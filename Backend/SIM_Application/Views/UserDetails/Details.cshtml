@model SIM_Application.Models.UserDetailsWithOrderDetails
@{
    ViewData["Title"] = "Details";
    Layout = "_SIMLayout";
}

<partial name="_AlertMessage" />
<div>
    <h4 class="float-start">User Details</h4>
    <div class="float-end">
        <a asp-action="Edit" asp-route-id="@Model?.UserDetail.UserId"><i class="bi bi-pencil-square"></i></a> |
        <a asp-action="Index"><i class="bi bi-arrow-bar-left"></i></a>
    </div>
    <br />
    <hr />
    <dl class="row">
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.UserDetail.UserName)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.UserDetail.UserName)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.UserDetail.DateOfBirth)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.UserDetail.DateOfBirth)
        </dd>
        @* <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.AddressLine1)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.AddressLine1)
        </dd> *@
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.UserDetail.MobileNumber)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.UserDetail.MobileNumber)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.UserDetail.Occupation)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.UserDetail.Occupation)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.UserDetail.Email)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.UserDetail.Email)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.UserDetail.AnnualIncome)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.UserDetail.AnnualIncome)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.UserDetail.BalanceAmount)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.UserDetail.BalanceAmount)
        </dd>
       @*  <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.CreatedAt)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.CreatedAt)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.UpdatedAt)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.UpdatedAt)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.City)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.City.City)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Country)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Country.Country)
        </dd> *@
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.UserDetail.Gender)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.UserDetail.Gender.Gender)
        </dd>
        @* <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.MaritalStatus)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.MaritalStatus.MaritalStatus)
        </dd> *@
       @*  <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Nationality)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Nationality.Nationality)
        </dd> *@
    @*     <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Role)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Role.Role)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.State)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.State.State)
        </dd> *@
    </dl>
</div>

<div>
    <h4 class="float-start">User Stock Details</h4>
    <div class="float-end">
        <button class="btn btn-light" type="button"> <a asp-action="AddUserStockDetails" asp-route-id="@Model?.UserDetail.UserId">Add</a></button>
       
    </div>
    <br />
    <hr />
   @*  <table class="table table-striped">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.StockId)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Stock.Provider.ProviderName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Stock.Broker.BrokerName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.OrderDetails.PurchasedQuantity)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.OrderDetails.TotalInvestmant)
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.UserName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DateOfBirth)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.MobileNumber)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Occupation)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Email)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.AnnualIncome)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.State.State)
                    </td>
                </tr>
            }
        </tbody> *@
        <table class="table table-striped text-center">
            <thead>
                <tr>
                    <th>
                        Stock ID
                    </th>
                    <th>
                        Provider Name
                    </th>
                    <th>
                        Broker Name
                    </th>
                    <th>
                        Purchased Quantity
                    </th>
                    <th>
                        Total Investment
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var orderDetail in Model.OrderDetails)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => orderDetail.UserStock.StockId)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => orderDetail.UserStock.Stock.Provider.ProviderName)
                        </td>
                        <td>
                        @Html.DisplayFor(modelItem => orderDetail.UserStock.Stock.Broker.BrokerName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => orderDetail.PurchasedQuantity)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => orderDetail.TotalInvestment)
                        </td>
                    </tr>
                }
            </tbody>
        </table>
</div>

